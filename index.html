<!DOCTYPE html>
<html>
<head>
  <title>Employee Happiness Meter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(to right, #00c6ff, #0072ff);
      min-height: 100vh;
      display: flex;
      align-items: center;
    }

    .card {
      border-radius: 20px;
    }

    .emoji-display {
      font-size: 80px;
    }

    .emoji-btn {
      font-size: 25px;
      border-radius: 50%;
    }
  </style>
</head>

<body>

<div class="container">
  <div class="card shadow p-4 text-center">

    <h3 class="mb-4">How happy are you at work?</h3>

    <div id="bigEmoji" class="emoji-display mb-3">ğŸ˜</div>

    <div class="d-flex justify-content-center gap-3 mb-4 flex-wrap">
      <button class="btn btn-light emoji-btn" onclick="selectMood('Very Sad','ğŸ˜¡')">ğŸ˜¡</button>
      <button class="btn btn-light emoji-btn" onclick="selectMood('Sad','ğŸ˜¢')">ğŸ˜¢</button>
      <button class="btn btn-light emoji-btn" onclick="selectMood('Neutral','ğŸ˜')">ğŸ˜</button>
      <button class="btn btn-light emoji-btn" onclick="selectMood('Happy','ğŸ˜Š')">ğŸ˜Š</button>
      <button class="btn btn-light emoji-btn" onclick="selectMood('Very Happy','ğŸ˜')">ğŸ˜</button>
    </div>

    <form id="feedbackForm">

      <textarea class="form-control mb-3"
        id="feedback"
        placeholder="Tell us your feedback..."
        required></textarea>

      <input type="text"
        class="form-control mb-3"
        id="name"
        placeholder="Enter your name"
        required>

      <select class="form-select mb-4" id="department" required>
        <option value="">Select Department</option>
        <option>HR</option>
        <option>Finance</option>
        <option>IT</option>
        <option>Operations</option>
      </select>

      <button type="submit" class="btn btn-primary w-100">Submit</button>

    </form>

    <div id="message" class="mt-3"></div>

  </div>
</div>

<script>
let selectedMood = "Neutral";
const scriptURL = "https://script.google.com/macros/s/AKfycbxHksbzeKMoXu00Ay7kjMvg00NimPyNr8wXaCsSXJvL32kroTzfoZhyUFTc_rxbs7hC/exec";

function selectMood(mood, emoji) {
  selectedMood = mood;
  document.getElementById("bigEmoji").innerText = emoji;
}

document.getElementById("feedbackForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const data = {
    mood: selectedMood,
    feedback: document.getElementById("feedback").value,
    name: document.getElementById("name").value,
    department: document.getElementById("department").value
  };

  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(response => {
    document.getElementById("message").innerHTML =
      "<div class='alert alert-success'>Feedback submitted successfully!</div>";

    document.getElementById("feedbackForm").reset();
    document.getElementById("bigEmoji").innerText = "ğŸ˜";
  })
  .catch(error => {
    document.getElementById("message").innerHTML =
      "<div class='alert alert-danger'>Error submitting feedback.</div>";
  });
});
</script>

</body>
</html>


